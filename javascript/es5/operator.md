# 操作符

与数据组成表达式，进行某种运算并返回运算结果

## 算术运算符

对数字进行算术运算，操作数自动转换为`Number`类型

### 取正负

```
语法：+值、-值
解释：取正值、取负值

+值，将值转换为Number类型
```

### 自增减

```
语法：++值、--值、值++、值--
解释：进行加1、减1运算
返回值：前置自增减，先进行自增减操作，再执行语句
       后置自增减，先执行语句，再进行自增减操作
```

### 加法

```
语法：值1+值2
解释：值1、值2有一值为String类型，执行字符串拼接
     值1、值2都不是String类型，进行加法运算
参数：值为引用类型时，调用valueOf()方法，若结果不是原始值类型，继续调用toString()方法，转换为原始值类型
     Date对象直接调用toString()方法

值+""，将值转换为String类型
```

### 减法

```
语法：值1-值2
解释：进行减法运算

Infinity-Infinity=NaN
```

### 乘法

```
语法：值1*值2
解释：进行乘法运算

Infinity*0=NaN
```

### 除法

```
语法：值1/值2
解释：进行除法运算

0/0=NaN, Infinity/Infinity=NaN
正数/0=Infinity, 负数/0=-Infinity
```

### 求模

```
语法：值1%值2
解释：进行除法运算，返回余数，余数的正负由值1决定

Infinity%值=NaN, 值%0=NaN
有限值%Infinity=有限值
```

## 关系运算符

对值进行比较，返回布尔值

### 比较

```
语法：值1>值2、值1>=值2、值1<值2、值1<=值2
解释：值1、值2都是String类型，按位进行Unicode码比较
     值1、值2不都是String类型，自动转换为Number类型比较大小
参数：值为引用类型时，调用valueOf()方法，若结果不是原始值类型，继续调用toString()方法，转换为原始值类型

任何值与NaN比较都返回false
```

### 相等

```
语法：值1==值2、值1!=值2
解释：类型相同，进行全等比较
     类型不同，String类型、Boolean类型自动转换为Number类型进行比较
参数：一个值为引用类型时，调用valueOf()方法，若结果不是原始值类型，继续调用toString()方法，转换为原始值类型

NaN!=NaN
undefined==null
```

## 逻辑运算符

对布尔值进行布尔运算

### 逻辑非

```
语法：!值
解释：对布尔值求反
参数：值自动转换为Boolean类型
返回值：值为true，返回false
       值为false，返回true

!!值，将值转换为Boolean类型
```

### 逻辑与

```
语法：值1&&值2
解释：值1能自动转换true，返回值2
     值1不能自动转换true，返回值1
```

### 逻辑或

```
语法：值1||值2
解释：值1能自动转换true，返回值1
     值1不能自动转换true，返回值2

可用于设置默认值
```

## 条件运算符

根据条件返回相应的值

```
语法：值 ? 值1 : 值2
解释：值为true，返回值1
     值为false，返回值2
参数：值自动转换为Boolean类型
```

## 位运算符

对二进制位进行运算，操作数要转换为32位整数

* 操作数自动转换为`Number`类型
* 丢弃小数，`NaN`、`Infinity`当作0
* 使用32位补码表示，丢弃左侧溢出

### 按位非

```
语法：~值
解释：值按位作非运算，0变为1,1变为0

~值=-值-1
```

### 按位与

```
语法：值1&值2
解释：值1、值2按位作与运算，都为1时才为1

值&0=0，值&(-1)=值
```

### 按位或

```
语法：值1|值2
解释：值1、值2按位作或运算，有一个为1时就为1

值&0=值，值&(-1)=-1
```

### 按位异或

```
语法：值1^值2
解释：值1、值2按位作异或运算，一个为0、一个为1时才为1

值&0=值，值&-1=~值
```

### 左移

```
语法：值<<n
解释：值左移n位，丢弃左侧溢出，符号位不变，右补0
参数：值自动转换为32位整数
      n自动转换为整数并n%=32
```

### 有符号右移

```
语法：值>>n
解释：值右移n位，丢弃右侧溢出，左补符号位
参数：值自动转换为32位整数
      n自动转换为整数并n%=32
```

### 无符号右移

```
语法：值>>>n
解释：值右移n位，丢弃右侧溢出，左补0
参数：值自动转换为32位整数
      n自动转换为整数并n%=32
返回值：返回正整数
```

## 赋值运算符

将右边的值赋给左边

### 简单赋值

```
语法：左边=值
解释：将右边的值赋给左边，并返回右边的值
```

### 复合赋值

```
变量+=值          =>变量=变量+值
变量-=值            变量=变量-值
变量*=值            变量=变量*值
变量/=值            变量=变量/值
变量%=值            变量=变量%值
变量&=值            变量=变量&值
变量|=值            变量=变量|值
变量^=值            变量=变量^值
变量<<=值           变量=变量<<值
变量>>=值           变量=变量>>值
变量>>>=值          变量=变量>>>值
```

## 类型运算符

### void

```
语法：void 值、void(值)
解释：返回undefined
```

### typeof

```
语法：typeof 值
解释：返回值的数据类型
返回值：Undefined型            "undefined"
       Null型                 "object"
       Number型               "number"
       String型               "string"
       Boolean型              "boolean"
       Object型               Function对象返回"function",其他返回"object"
```

## 对象运算符

### new

```
语法：new constructor(args)
解释：根据构造函数创建一个对象实例
```

### this

```
语法：this
解释：指代一个对象
返回值：global上下文--this为全局对象
       function上下文--this取决于函数调用的方式
          单纯调用函数，严格模式下为undefined，非严格模式自动转换为全局对象
          调用对象方法，this为该对象
          调用构造函数，this为该实例对象
          调用call、apply，严格模式下this为手工设置的值
                          非严格模式下，Undefined、Null类型自动转换为全局对象
                                      Number、String、Boolean类型自动转换为对应的内置对象
```

### instanceof

```
语法：obj instanceof constructor
解释：检测constructor.prototype是否在对象obj的原型链上
参数：obj，对象，原始值类型返回false
     constructor，构造函数，不为Object类型会抛出TypeError
```

## 属性运算符

### in

```
语法：key in obj
解释：检测key是否是obj对象本身及其原型链上的属性
参数：key，属性名，自动转换为String类型
     obj，对象，必须是Object类型，否则会抛出TypeError
```

### delete

```
语法：delete prop
解释：删除对象本身的可删除属性
参数：prop, 对象本身的属性，如obj.key或obj["key"]
返回值：prop不是对象属性或不存在，返回true
       prop存在且可删除，删除该属性并返回true
       prop存在且不可删除，返回false，严格模式下抛出TypeError

var声明的变量、内置对象的内置属性不可删除
数组元素被删除时并不影响数组长度
```

## 逗号运算符

在一条语句中执行多个操作

```
语法：值1, 值2,...,值n
解释：依次求值，并返回值n
```

## 圆括号运算符

优先执行某个操作

```
语法：(exp)
解释：圆括号里的先执行

圆括号内只能放置表达式，放置语句会报错
```

## 运算符优先级

```
优先级               运算类型               关联性               运算符
19                  圆括号                 n/a                 ( … )

18                  成员访问               从左到右              … . …
                    需计算的成员访问        从左到右              … [ … ]
                    new (带参数列表)       n/a                  new … ( … )

17                  函数调用               从左到右              … ( … )
                    new (无参数列表)       从右到左              new …

16                  后置递增(运算符在后)     n/a                 … ++
                    后置递减(运算符在后)     n/a                 … --

15                  逻辑非                 从右到左              ! …
                    按位非                 从右到左              ~ …
                    一元加法               从右到左              + …
                    一元减法               从右到左              - …
                    前置递增               从右到左              ++ …
                    前置递减               从右到左              -- …
                    typeof                从右到左              typeof …
                    void                  从右到左              void …
                    delete                从右到左              delete …

14                  乘法                   从左到右              … * …
                    除法                   从左到右              … / …
                    取模                   从左到右              … % …

13                  加法                   从左到右              … + …
                    减法                   从左到右              … - …

12                  按位左移                从左到右              … << …
                    按位右移                从左到右              … >> …
                    无符号右移              从左到右              … >>> …

11                  小于                   从左到右              … < …
                    小于等于                从左到右              … <= …
                    大于                   从左到右              … > …
                    大于等于                从左到右              … >= …
                    in                     从左到右              … in …   
                    instanceof             从左到右              … instanceof …

10                  等号                    从左到右              … == …
                    非等号                  从左到右              … != …
                    全等号                  从左到右              … === …
                    非全等号                 从左到右             … !== …

9                   按位与                  从左到右              … & …

8                   按位异或                从左到右               … ^ …

7                   按位或                  从左到右               … | …

6                   逻辑与                  从左到右               … && …

5                   逻辑或                  从左到右               … || …

4                   条件运算符               从右到左               … ? … : …

3                   赋值                    从右到左               … = …
                                                                 … += …
                                                                 … -= …
                                                                 … *= …
                                                                 … /= …
                                                                 … %= …
                                                                 … <<= …
                                                                 … >>= …
                                                                 … >>>= …
                                                                 … &= …
                                                                 … ^= …
                                                                 … |= …

2                   yield                  从右到左               yield …
                    yield*                 从右到左               yield* …

1                   展开运算符               n/a                   ... …

0                   逗号                    从左到右               … , …
```